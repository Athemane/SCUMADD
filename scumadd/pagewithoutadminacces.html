<?php
session_start();
if (!isset($_SESSION['user_id'])) {
    header('Location: index.html');
    exit;
}
?>
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8"/>
  <title>SCUM - Acc√®s limit√©</title>
  <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700&display=swap" rel="stylesheet">
  <link href="style.css" rel="stylesheet"/>
  <style>
    body {
      background: linear-gradient(135deg, #0a1a2f 60%, #0099cc 100%);
      color: #fff;
      font-family: 'Montserrat', Arial, sans-serif;
      min-height: 100vh;
      margin: 0;
      transition: background 0.6s;
    }
    .dashboard {
      background: rgba(20,40,60,0.92);
      padding: 40px 32px 32px 32px;
      border-radius: 18px;
      box-shadow: 0 8px 32px #0008;
      max-width: 700px;
      margin: 60px auto;
      position: relative;
      animation: fadeIn 0.8s;
      text-align: center;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(40px);}
      to { opacity: 1; transform: translateY(0);}
    }
    h1 {
      font-size: 2.2em;
      margin-bottom: 38px;
      color: #00e5ff;
      text-shadow: 0 0 12px #0099cc88;
      font-weight: 700;
      letter-spacing: 1px;
    }
    .limited-icon {
      font-size: 4em;
      margin-bottom: 18px;
      color: #ff4444;
      text-shadow: 0 0 12px #ff444488;
      animation: fadeIn 1.2s;
    }
    .error-message {
      color: #ff4444;
      margin: 18px auto 24px auto;
      text-align: center;
      font-size: 1.15em;
      font-weight: 600;
      background: rgba(60,0,0,0.08);
      border-radius: 8px;
      padding: 14px 0;
      box-shadow: 0 2px 8px #ff444444;
      animation: fadeIn 1.7s;
      max-width: 480px;
    }
    .info-box {
      background: #162a40;
      border-radius: 12px;
      padding: 18px 24px;
      color: #00e5ff;
      font-size: 1.08em;
      margin: 18px auto 28px auto;
      box-shadow: 0 2px 12px #0099cc44;
      max-width: 480px;
      animation: fadeIn 1.3s;
    }
    .stat-box {
      display: inline-block;
      background: rgba(12, 12, 12, 0.92);
      padding: 15px 22px;
      margin: 10px 14px 10px 0;
      border-radius: 10px;
      font-size: 18px;
      font-weight: 600;
      border: 1px solid #1a1a1a;
      box-shadow: inset 0 0 10px rgba(0, 229, 255, 0.12);
      color: #fff;
      animation: fadeIn 1.5s;
    }
    .stat-box span { color: #00e5ff; font-size: 22px; }
    .back-btn {
      display: inline-block;
      margin-top: 28px;
      padding: 10px 28px;
      border-radius: 8px;
      background: linear-gradient(90deg, #0099cc 60%, #00e5ff 100%);
      color: #fff;
      font-size: 1.08em;
      font-weight: 600;
      cursor: pointer;
      box-shadow: 0 2px 8px #0099cc44;
      border: none;
      transition: background 0.2s, transform 0.2s;
      text-decoration: none;
      letter-spacing: 1px;
    }
    .back-btn:hover {
      background: linear-gradient(90deg, #0077aa 60%, #00e5ff 100%);
      transform: translateY(-2px) scale(1.03);
    }
    .suggestion {
      margin-top: 30px;
      color: #fff;
      font-size: 1em;
      opacity: 0.7;
    }
  </style>
</head>
<body>
  <div class="dashboard">
    <div class="limited-icon">üîí</div>
    <h1>Acc√®s limit√©</h1>
    <div class="error-message">
      Vous n'avez pas les droits administrateur pour acc√©der au dashboard complet.<br>
      <span style="color:#fff;opacity:0.7;">Contactez un admin si vous pensez que c'est une erreur.</span>
    </div>
    <div class="info-box">
      <b>Fonctionnalit√©s accessibles :</b>
      <ul style="text-align:left; margin: 12px auto 0 auto; max-width: 340px;">
        <li>Voir le nombre de joueurs connect√©s</li>
        <li>Voir la liste des v√©hicules (ID et type)</li>
        <li>Retourner √† l'accueil</li>
      </ul>
    </div>
    <div class="stat-box">Joueurs connect√©s : <span id="playerCount">0</span></div>
    <table id="vehTable" style="margin-top:28px;">
      <thead>
        <tr>
          <th>ID</th>
          <th>Type</th>
        </tr>
      </thead>
      <tbody>
        <!-- Les lignes de v√©hicules seront ajout√©es dynamiquement par script.js -->
      </tbody>
    </table>
    <a href="index.html" class="back-btn">Retour √† la page d'accueil</a>
    <div class="suggestion">
      <span>Besoin de plus d'acc√®s ? <a href="mailto:contact@shreksolution.fr" style="color:#00e5ff;text-decoration:underline;">Contactez l'√©quipe</a></span>
    </div>
  </div>
  <script src="script.js"></script>
</body>
</html>
